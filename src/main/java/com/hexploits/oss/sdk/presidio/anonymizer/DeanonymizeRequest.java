package com.hexploits.oss.sdk.presidio.anonymizer;

import com.fasterxml.jackson.databind.PropertyNamingStrategies;
import com.fasterxml.jackson.databind.annotation.JsonNaming;
import com.hexploits.oss.sdk.presidio.anonymizer.deanonymize.DecryptAnonymizer;
import jakarta.validation.constraints.NotNull;
import java.util.List;
import java.util.Map;
import java.util.Objects;

@JsonNaming(PropertyNamingStrategies.SnakeCaseStrategy.class)
public record DeanonymizeRequest(
  @NotNull String text,
  @NotNull Map<String, DecryptAnonymizer> deanonymizers,
  @NotNull List<OperatorResult> anonymizerResults
) {

    public DeanonymizeRequest {
        Objects.requireNonNull(text, "text must not be null");
        Objects.requireNonNull(deanonymizers, "deanonymizers must not be null");
        Objects.requireNonNull(anonymizerResults, "anonymizerResults must not be null");
    }
}
